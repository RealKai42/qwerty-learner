{"version":3,"file":"index-0fb21ba0.js","sources":["../../node_modules/@headlessui/react/dist/hooks/use-tree-walker.js","../../node_modules/@headlessui/react/dist/components/radio-group/radio-group.js","../../src/pages/Gallery-N/DictTagSwitcher.tsx","../../src/pages/Gallery-N/hooks/useDictStats.ts","../../src/assets/book-cover.png","../../src/hooks/useIntersectionObserver.ts","../../src/pages/Gallery-N/DictionaryWithoutCover.tsx","../../src/pages/Gallery-N/CategoryDicts.tsx","../../src/pages/Gallery-N/hooks/useChapterStats.ts","../../src/pages/Gallery-N/ChapterList/ChapterRow.tsx","../../src/utils/range.ts","../../src/pages/Gallery-N/ChapterList/index.tsx","../../src/pages/Gallery-N/DictRequest.tsx","../../src/assets/flags/code.png","../../src/assets/flags/de.png","../../src/assets/flags/en.png","../../src/assets/flags/ja.png","../../src/pages/Gallery-N/LanguageTabSwitcher.tsx","../../src/utils/groupBy.ts","../../src/pages/Gallery-N/index.tsx"],"sourcesContent":["import{useRef as E,useEffect as m}from\"react\";import{useIsoMorphicEffect as T}from'./use-iso-morphic-effect.js';import{getOwnerDocument as N}from'../utils/owner.js';function F({container:e,accept:t,walk:r,enabled:c=!0}){let o=E(t),l=E(r);m(()=>{o.current=t,l.current=r},[t,r]),T(()=>{if(!e||!c)return;let n=N(e);if(!n)return;let f=o.current,p=l.current,d=Object.assign(i=>f(i),{acceptNode:f}),u=n.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,d,!1);for(;u.nextNode();)p(u.currentNode)},[e,c,o,l])}export{F as useTreeWalker};\n","import O,{createContext as J,useContext as V,useMemo as A,useReducer as se,useRef as j,useEffect as ue}from\"react\";import{forwardRefWithAs as X,render as q,compact as de}from'../../utils/render.js';import{useId as Q}from'../../hooks/use-id.js';import{match as ce}from'../../utils/match.js';import{useIsoMorphicEffect as fe}from'../../hooks/use-iso-morphic-effect.js';import{Keys as D}from'../../components/keyboard.js';import{focusIn as Y,Focus as I,FocusResult as Z,sortByDomNode as Te}from'../../utils/focus-management.js';import{useFlags as me}from'../../hooks/use-flags.js';import{Label as ye,useLabels as z}from'../../components/label/label.js';import{Description as Re,useDescriptions as ee}from'../../components/description/description.js';import{useTreeWalker as be}from'../../hooks/use-tree-walker.js';import{useSyncRefs as te}from'../../hooks/use-sync-refs.js';import{Hidden as ge,Features as Oe}from'../../internal/hidden.js';import{attemptSubmit as Ee,objectToFormEntries as ve}from'../../utils/form.js';import{getOwnerDocument as Pe}from'../../utils/owner.js';import{useEvent as E}from'../../hooks/use-event.js';import{useControllable as Ae}from'../../hooks/use-controllable.js';import{isDisabledReactIssue7711 as re}from'../../utils/bugs.js';import{useLatestValue as De}from'../../hooks/use-latest-value.js';import{useDisposables as Ge}from'../../hooks/use-disposables.js';var Ce=(t=>(t[t.RegisterOption=0]=\"RegisterOption\",t[t.UnregisterOption=1]=\"UnregisterOption\",t))(Ce||{});let ke={[0](r,o){let t=[...r.options,{id:o.id,element:o.element,propsRef:o.propsRef}];return{...r,options:Te(t,p=>p.element.current)}},[1](r,o){let t=r.options.slice(),p=r.options.findIndex(T=>T.id===o.id);return p===-1?r:(t.splice(p,1),{...r,options:t})}},B=J(null);B.displayName=\"RadioGroupDataContext\";function oe(r){let o=V(B);if(o===null){let t=new Error(`<${r} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,oe),t}return o}let $=J(null);$.displayName=\"RadioGroupActionsContext\";function ne(r){let o=V($);if(o===null){let t=new Error(`<${r} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ne),t}return o}function Le(r,o){return ce(o.type,ke,r,o)}let he=\"div\";function Fe(r,o){let t=Q(),{id:p=`headlessui-radiogroup-${t}`,value:T,defaultValue:v,form:S,name:m,onChange:M,by:G=(e,i)=>e===i,disabled:C=!1,...H}=r,y=E(typeof G==\"string\"?(e,i)=>{let n=G;return(e==null?void 0:e[n])===(i==null?void 0:i[n])}:G),[P,h]=se(Le,{options:[]}),a=P.options,[N,R]=z(),[k,U]=ee(),L=j(null),W=te(L,o),[l,s]=Ae(T,M,v),b=A(()=>a.find(e=>!e.propsRef.current.disabled),[a]),F=A(()=>a.some(e=>y(e.propsRef.current.value,l)),[a,l]),d=E(e=>{var n;if(C||y(e,l))return!1;let i=(n=a.find(f=>y(f.propsRef.current.value,e)))==null?void 0:n.propsRef.current;return i!=null&&i.disabled?!1:(s==null||s(e),!0)});be({container:L.current,accept(e){return e.getAttribute(\"role\")===\"radio\"?NodeFilter.FILTER_REJECT:e.hasAttribute(\"role\")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(e){e.setAttribute(\"role\",\"none\")}});let x=E(e=>{let i=L.current;if(!i)return;let n=Pe(i),f=a.filter(u=>u.propsRef.current.disabled===!1).map(u=>u.element.current);switch(e.key){case D.Enter:Ee(e.currentTarget);break;case D.ArrowLeft:case D.ArrowUp:if(e.preventDefault(),e.stopPropagation(),Y(f,I.Previous|I.WrapAround)===Z.Success){let g=a.find(K=>K.element.current===(n==null?void 0:n.activeElement));g&&d(g.propsRef.current.value)}break;case D.ArrowRight:case D.ArrowDown:if(e.preventDefault(),e.stopPropagation(),Y(f,I.Next|I.WrapAround)===Z.Success){let g=a.find(K=>K.element.current===(n==null?void 0:n.activeElement));g&&d(g.propsRef.current.value)}break;case D.Space:{e.preventDefault(),e.stopPropagation();let u=a.find(g=>g.element.current===(n==null?void 0:n.activeElement));u&&d(u.propsRef.current.value)}break}}),c=E(e=>(h({type:0,...e}),()=>h({type:1,id:e.id}))),_=A(()=>({value:l,firstOption:b,containsCheckedOption:F,disabled:C,compare:y,...P}),[l,b,F,C,y,P]),ie=A(()=>({registerOption:c,change:d}),[c,d]),ae={ref:W,id:p,role:\"radiogroup\",\"aria-labelledby\":N,\"aria-describedby\":k,onKeyDown:x},pe=A(()=>({value:l}),[l]),w=j(null),le=Ge();return ue(()=>{w.current&&v!==void 0&&le.addEventListener(w.current,\"reset\",()=>{d(v)})},[w,d]),O.createElement(U,{name:\"RadioGroup.Description\"},O.createElement(R,{name:\"RadioGroup.Label\"},O.createElement($.Provider,{value:ie},O.createElement(B.Provider,{value:_},m!=null&&l!=null&&ve({[m]:l}).map(([e,i],n)=>O.createElement(ge,{features:Oe.Hidden,ref:n===0?f=>{var u;w.current=(u=f==null?void 0:f.closest(\"form\"))!=null?u:null}:void 0,...de({key:e,as:\"input\",type:\"radio\",checked:i!=null,hidden:!0,readOnly:!0,form:S,name:e,value:i})})),q({ourProps:ae,theirProps:H,slot:pe,defaultTag:he,name:\"RadioGroup\"})))))}var xe=(t=>(t[t.Empty=1]=\"Empty\",t[t.Active=2]=\"Active\",t))(xe||{});let _e=\"div\";function we(r,o){var x;let t=Q(),{id:p=`headlessui-radiogroup-option-${t}`,value:T,disabled:v=!1,...S}=r,m=j(null),M=te(m,o),[G,C]=z(),[H,y]=ee(),{addFlag:P,removeFlag:h,hasFlag:a}=me(1),N=De({value:T,disabled:v}),R=oe(\"RadioGroup.Option\"),k=ne(\"RadioGroup.Option\");fe(()=>k.registerOption({id:p,element:m,propsRef:N}),[p,k,m,r]);let U=E(c=>{var _;if(re(c.currentTarget))return c.preventDefault();k.change(T)&&(P(2),(_=m.current)==null||_.focus())}),L=E(c=>{if(re(c.currentTarget))return c.preventDefault();P(2)}),W=E(()=>h(2)),l=((x=R.firstOption)==null?void 0:x.id)===p,s=R.disabled||v,b=R.compare(R.value,T),F={ref:M,id:p,role:\"radio\",\"aria-checked\":b?\"true\":\"false\",\"aria-labelledby\":G,\"aria-describedby\":H,\"aria-disabled\":s?!0:void 0,tabIndex:(()=>s?-1:b||!R.containsCheckedOption&&l?0:-1)(),onClick:s?void 0:U,onFocus:s?void 0:L,onBlur:s?void 0:W},d=A(()=>({checked:b,disabled:s,active:a(2)}),[b,s,a]);return O.createElement(y,{name:\"RadioGroup.Description\"},O.createElement(C,{name:\"RadioGroup.Label\"},q({ourProps:F,theirProps:S,slot:d,defaultTag:_e,name:\"RadioGroup.Option\"})))}let Ie=X(Fe),Se=X(we),yt=Object.assign(Ie,{Option:Se,Label:ye,Description:Re});export{yt as RadioGroup};\n","import { RadioGroup } from '@headlessui/react'\nimport { useCallback } from 'react'\n\ntype Props = {\n  tagList: string[]\n  currentTag: string\n  onChangeCurrentTag: (tag: string) => void\n}\n\nexport default function DictTagSwitcher({ tagList, currentTag, onChangeCurrentTag }: Props) {\n  const onChangeTag = useCallback(\n    (tag: string) => {\n      onChangeCurrentTag(tag)\n    },\n    [onChangeCurrentTag],\n  )\n\n  return (\n    <RadioGroup value={currentTag} onChange={onChangeTag}>\n      <div className=\"flex items-center space-x-4\">\n        {tagList.map((option) => (\n          <RadioGroup.Option\n            key={option}\n            value={option}\n            className={({ checked }) =>\n              `cursor-pointer whitespace-nowrap rounded-[3rem] px-4 py-2 ${\n                checked ? 'bg-indigo-400 text-white' : 'bg-white text-gray-600 dark:bg-gray-800 dark:text-gray-200'\n              } ${!checked && 'hover:bg-indigo-100 dark:hover:bg-gray-600'}`\n            }\n          >\n            <p className={`font-normal `}>{option}</p>\n          </RadioGroup.Option>\n        ))}\n      </div>\n    </RadioGroup>\n  )\n}\n","import { db } from '@/utils/db'\nimport type { IChapterRecord } from '@/utils/db/record'\nimport { useEffect, useState } from 'react'\n\nexport function useDictStats(dictID: string, isStartLoad: boolean) {\n  const [dictStats, setDictStats] = useState<IDictStats | null>(null)\n\n  useEffect(() => {\n    const fetchDictStats = async () => {\n      const stats = await getDictStats(dictID)\n      setDictStats(stats)\n    }\n\n    if (isStartLoad && !dictStats) {\n      fetchDictStats()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dictID, isStartLoad])\n\n  return dictStats\n}\n\ninterface IDictStats {\n  exercisedChapterCount: number\n}\n\nasync function getDictStats(dict: string): Promise<IDictStats> {\n  const records: IChapterRecord[] = await db.chapterRecords.where({ dict }).toArray()\n  const allChapter = records.map(({ chapter }) => chapter).filter((item) => item !== null) as number[]\n  const uniqueChapter = allChapter.filter((value, index, self) => {\n    return self.indexOf(value) === index\n  })\n\n  const exercisedChapterCount = uniqueChapter.length\n\n  return { exercisedChapterCount }\n}\n","export default \"__VITE_ASSET__1a63a81b__\"","import type { RefObject } from 'react'\nimport { useEffect, useState } from 'react'\n\n/**\n * source: https://usehooks-ts.com/react-hook/use-intersection-observer\n */\ninterface Args extends IntersectionObserverInit {\n  freezeOnceVisible?: boolean\n}\n\nfunction useIntersectionObserver(\n  elementRef: RefObject<Element>,\n  { threshold = 0, root = null, rootMargin = '0%', freezeOnceVisible = false }: Args,\n): IntersectionObserverEntry | undefined {\n  const [entry, setEntry] = useState<IntersectionObserverEntry>()\n\n  const frozen = entry?.isIntersecting && freezeOnceVisible\n\n  const updateEntry = ([entry]: IntersectionObserverEntry[]): void => {\n    setEntry(entry)\n  }\n\n  useEffect(() => {\n    const node = elementRef?.current // DOM Ref\n    const hasIOSupport = !!window.IntersectionObserver\n\n    if (!hasIOSupport || frozen || !node) return\n\n    const observerParams = { threshold, root, rootMargin }\n    const observer = new IntersectionObserver(updateEntry, observerParams)\n\n    observer.observe(node)\n\n    return () => observer.disconnect()\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [elementRef?.current, JSON.stringify(threshold), root, rootMargin, frozen])\n\n  return entry\n}\n\nexport default useIntersectionObserver\n","import { useDictStats } from './hooks/useDictStats'\nimport bookCover from '@/assets/book-cover.png'\nimport Tooltip from '@/components/Tooltip'\nimport useIntersectionObserver from '@/hooks/useIntersectionObserver'\nimport { currentDictIdAtom } from '@/store'\nimport type { Dictionary } from '@/typings'\nimport { calcChapterCount } from '@/utils'\nimport * as Progress from '@radix-ui/react-progress'\nimport { useAtomValue } from 'jotai'\nimport { useMemo, useRef } from 'react'\n\ninterface Props {\n  dictionary: Dictionary\n  onClick?: () => void\n}\n\nexport default function DictionaryComponent({ dictionary, onClick }: Props) {\n  const currentDictID = useAtomValue(currentDictIdAtom)\n\n  const divRef = useRef<HTMLDivElement>(null)\n  const entry = useIntersectionObserver(divRef, {})\n  const isVisible = !!entry?.isIntersecting\n  const dictStats = useDictStats(dictionary.id, isVisible)\n  const chapterCount = useMemo(() => calcChapterCount(dictionary.length), [dictionary.length])\n  const isSelected = currentDictID === dictionary.id\n  const progress = useMemo(\n    () => (dictStats ? Math.ceil((dictStats.exercisedChapterCount / chapterCount) * 100) : 0),\n    [dictStats, chapterCount],\n  )\n\n  return (\n    <div\n      ref={divRef}\n      className={`group flex  h-36 w-80 cursor-pointer items-center justify-center overflow-hidden rounded-lg p-4 text-left shadow-lg focus:outline-none ${\n        isSelected ? 'bg-indigo-400' : 'bg-zinc-50 hover:bg-white dark:bg-gray-800 dark:hover:bg-gray-700'\n      }`}\n      role=\"button\"\n      onClick={onClick}\n    >\n      <div className=\"relative ml-1 mt-2 flex h-full w-full flex-col items-start justify-start\">\n        <h1\n          className={`mb-1.5 text-xl font-normal  ${\n            isSelected ? 'text-white' : 'text-gray-800 group-hover:text-indigo-400 dark:text-gray-200'\n          }`}\n        >\n          {dictionary.name}\n        </h1>\n        <Tooltip className=\"w-full\" content={dictionary.description}>\n          <p className={`mb-1 w-full truncate ${isSelected ? 'text-white' : 'text-gray-600 dark:text-gray-200'}`}>\n            {dictionary.description}\n          </p>\n        </Tooltip>\n\n        <p className={`mb-0.5 font-bold  ${isSelected ? 'text-white' : 'text-gray-600 dark:text-gray-200'}`}>{dictionary.length} 词</p>\n        <div className=\" flex w-full items-center pt-2\">\n          {progress > 0 && (\n            <Progress.Root\n              value={progress}\n              max={100}\n              className={`mr-4 h-2 w-full rounded-full border  bg-white ${isSelected ? 'border-indigo-600' : 'border-indigo-400'}`}\n            >\n              <Progress.Indicator\n                className={`h-full rounded-full pl-0 ${isSelected ? 'bg-indigo-600' : 'bg-indigo-400'}`}\n                style={{ width: `calc(${progress}% )` }}\n              />\n            </Progress.Root>\n          )}\n          <img src={bookCover} className={`absolute right-3 top-3 w-16 ${isSelected ? 'opacity-50' : 'opacity-20'}`} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import DictTagSwitcher from './DictTagSwitcher'\nimport DictionaryComponent from './DictionaryWithoutCover'\nimport { GalleryContext } from './index'\nimport { currentDictInfoAtom } from '@/store'\nimport type { Dictionary } from '@/typings'\nimport { findCommonValues } from '@/utils'\nimport { useAtomValue } from 'jotai'\nimport { useCallback, useContext, useEffect, useMemo, useState } from 'react'\n\nexport default function DictionaryGroup({ groupedDictsByTag }: { groupedDictsByTag: Record<string, Dictionary[]> }) {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const { setState } = useContext(GalleryContext)!\n  const tagList = useMemo(() => Object.keys(groupedDictsByTag), [groupedDictsByTag])\n  const [currentTag, setCurrentTag] = useState(tagList[0])\n  const currentDictInfo = useAtomValue(currentDictInfoAtom)\n\n  const onChangeCurrentTag = useCallback((tag: string) => {\n    setCurrentTag(tag)\n  }, [])\n\n  const onClickDict = useCallback(\n    (dict: Dictionary) => {\n      setState((state) => {\n        state.chapterListDict = dict\n      })\n    },\n    [setState],\n  )\n\n  useEffect(() => {\n    const commonTags = findCommonValues(tagList, currentDictInfo.tags)\n    if (commonTags.length > 0) {\n      setCurrentTag(commonTags[0])\n    }\n  }, [currentDictInfo.tags, tagList])\n\n  return (\n    <div>\n      <DictTagSwitcher tagList={tagList} currentTag={currentTag} onChangeCurrentTag={onChangeCurrentTag} />\n      <div className=\"mt-8 grid gap-x-5 gap-y-10 px-1 pb-4 sm:grid-cols-1 md:grid-cols-2 dic3:grid-cols-3 dic4:grid-cols-4\">\n        {groupedDictsByTag[currentTag].map((dict) => (\n          <DictionaryComponent key={dict.id} dictionary={dict} onClick={() => onClickDict(dict)} />\n        ))}\n      </div>\n    </div>\n  )\n}\n","import { toFixedNumber } from '@/utils'\nimport { db } from '@/utils/db'\nimport type { IChapterRecord } from '@/utils/db/record'\nimport { useEffect, useState } from 'react'\n\nexport function useChapterStats(chapter: number, dictID: string, isStartLoad: boolean) {\n  const [chapterStats, setChapterStats] = useState<IChapterStats | null>(null)\n\n  useEffect(() => {\n    const fetchChapterStats = async () => {\n      const stats = await getChapterStats(dictID, chapter)\n      setChapterStats(stats)\n    }\n\n    if (isStartLoad && !chapterStats) {\n      fetchChapterStats()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dictID, chapter, isStartLoad])\n\n  return chapterStats\n}\n\ninterface IChapterStats {\n  exerciseCount: number\n  avgWrongWordCount: number\n  avgWrongInputCount: number\n}\n\nasync function getChapterStats(dict: string, chapter: number | null): Promise<IChapterStats> {\n  const records: IChapterRecord[] = await db.chapterRecords.where({ dict, chapter }).toArray()\n\n  const exerciseCount = records.length\n  const totalWrongWordCount = records.reduce(\n    (total, { wordNumber, correctWordIndexes }) => total + (wordNumber - correctWordIndexes.length),\n    0,\n  )\n  const avgWrongWordCount = exerciseCount > 0 ? toFixedNumber(totalWrongWordCount / exerciseCount, 2) : 0\n\n  const totalWrongInputCount = records.reduce((total, { wrongCount }) => total + (wrongCount ?? 0), 0)\n  const avgWrongInputCount = exerciseCount > 0 ? toFixedNumber(totalWrongInputCount / exerciseCount, 2) : 0\n\n  return { exerciseCount, avgWrongWordCount, avgWrongInputCount }\n}\n","import useIntersectionObserver from '@/hooks/useIntersectionObserver'\nimport { useChapterStats } from '@/pages/Gallery-N/hooks/useChapterStats'\nimport noop from '@/utils/noop'\nimport { useEffect, useRef } from 'react'\n\ntype ChapterRowProps = {\n  index: number\n  checked: boolean\n  dictID: string\n  onChange: (index: number) => void\n}\nexport default function ChapterRow({ index, dictID, checked, onChange }: ChapterRowProps) {\n  const rowRef = useRef<HTMLTableRowElement>(null)\n\n  const entry = useIntersectionObserver(rowRef, {})\n  const isVisible = !!entry?.isIntersecting\n  const chapterStatus = useChapterStats(index, dictID, isVisible)\n\n  useEffect(() => {\n    if (checked && rowRef.current !== null) {\n      const button = rowRef.current\n      const container = button.parentElement?.parentElement?.parentElement\n      container?.scroll({\n        top: button.offsetTop - container.offsetTop - 300,\n        behavior: 'smooth',\n      })\n    }\n  }, [checked])\n\n  return (\n    <tr\n      className=\"flex cursor-pointer even:bg-gray-50 hover:bg-indigo-100 dark:bg-gray-800 dark:even:bg-gray-700 dark:hover:bg-gray-600\"\n      ref={rowRef}\n      onClick={() => onChange(index)}\n    >\n      <td className=\"flex w-15  items-center justify-center px-6 py-4\">\n        <input\n          type=\"radio\"\n          name=\"selectedChapter\"\n          checked={checked}\n          onChange={noop}\n          className=\"mt-0.5 h-3.5 w-3.5 cursor-pointer rounded-full border-gray-300  text-indigo-600 outline-none  focus:outline-none focus:ring-0 focus:ring-offset-0 \"\n        />\n      </td>\n      <td className=\"flex-1 px-6 py-4 text-center text-sm text-gray-700 dark:text-gray-200\">{index + 1}</td>\n      <td className=\"flex-1 px-6 py-4 text-center text-sm text-gray-700 dark:text-gray-200\">\n        {chapterStatus ? chapterStatus.exerciseCount : 0}\n      </td>\n      <td className=\"flex-1 px-6 py-4 text-center text-sm text-gray-700 dark:text-gray-200\">\n        {chapterStatus ? chapterStatus.avgWrongWordCount : 0}\n      </td>\n      <td className=\"flex-1 px-6 py-4 text-center text-sm text-gray-700 dark:text-gray-200\">\n        {chapterStatus ? chapterStatus.avgWrongInputCount : 0}\n      </td>\n    </tr>\n  )\n}\n","const INFINITY = 1 / 0\nconst MAX_INTEGER = 1.7976931348623157e308\n\nfunction toFinite(value: number): number {\n  if (value === INFINITY || value === -INFINITY) {\n    const sign = value < 0 ? -1 : 1\n    return sign * MAX_INTEGER\n  }\n  return value === value ? value : 0\n}\n\nfunction baseRange(start: number, end: number, step: number): number[] {\n  let index = -1\n  let length = Math.max(Math.ceil((end - start) / (step || 1)), 0)\n  const result = new Array<number>(length)\n\n  while (length--) {\n    result[++index] = start\n    start += step\n  }\n  return result\n}\n\nexport default function range(start: number, end: number, step: number): number[] {\n  // Ensure the sign of `-0` is preserved.\n  start = toFinite(start)\n  if (end === undefined) {\n    end = start\n    start = 0\n  } else {\n    end = toFinite(end)\n  }\n  step = step === undefined ? (start < end ? 1 : -1) : toFinite(step)\n  return baseRange(start, end, step)\n}\n","import { GalleryContext } from '..'\nimport ChapterRow from './ChapterRow'\nimport { currentChapterAtom, currentDictIdAtom } from '@/store'\nimport { calcChapterCount } from '@/utils'\nimport range from '@/utils/range'\nimport { Dialog, Transition } from '@headlessui/react'\nimport { useAtom } from 'jotai'\nimport { Fragment, useCallback, useContext, useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport IconX from '~icons/tabler/x'\n\nexport default function ChapterList() {\n  const {\n    state: { chapterListDict: dict },\n    setState,\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  } = useContext(GalleryContext)!\n\n  const [currentChapter, setCurrentChapter] = useAtom(currentChapterAtom)\n  const [currentDictId, setCurrentDictId] = useAtom(currentDictIdAtom)\n  const [checkedChapter, setCheckedChapter] = useState(dict?.id === currentDictId ? currentChapter : 0)\n  const navigate = useNavigate()\n\n  const chapterCount = calcChapterCount(dict?.length ?? 0)\n  const showChapterList = dict !== null\n\n  useEffect(() => {\n    if (dict) {\n      setCheckedChapter(dict.id === currentDictId ? currentChapter : 0)\n    }\n  }, [currentChapter, currentDictId, dict])\n\n  const onChangeChapter = (index: number) => {\n    setCheckedChapter(index)\n  }\n\n  const onConfirm = useCallback(() => {\n    if (dict) {\n      setCurrentChapter(checkedChapter)\n      setCurrentDictId(dict.id)\n      setState((state) => {\n        state.chapterListDict = null\n      })\n      navigate('/')\n    }\n  }, [checkedChapter, dict, navigate, setCurrentChapter, setCurrentDictId, setState])\n\n  const onCloseDialog = () => {\n    setState((state) => {\n      state.chapterListDict = null\n    })\n  }\n\n  return (\n    <>\n      <Transition appear show={showChapterList} as={Fragment}>\n        <Dialog as=\"div\" className=\"relative z-10\" onClose={onCloseDialog}>\n          <Transition.Child\n            as={Fragment}\n            enter=\"ease-out duration-300\"\n            enterFrom=\"opacity-0\"\n            enterTo=\"opacity-100\"\n            leave=\"ease-in duration-200\"\n            leaveFrom=\"opacity-100\"\n            leaveTo=\"opacity-0\"\n          >\n            <div className=\"fixed inset-0 bg-black bg-opacity-25\" />\n          </Transition.Child>\n\n          <div className=\"fixed inset-0 h-full w-full\">\n            <Transition.Child\n              as={Fragment}\n              enter=\"transition ease-out duration-300 transform\"\n              enterFrom=\"translate-x-full \"\n              enterTo=\"\"\n              leave=\"transition ease-in duration-300 transform\"\n              leaveFrom=\"\"\n              leaveTo=\"translate-x-full \"\n            >\n              <Dialog.Panel className=\"absolute right-0 flex h-full w-[35rem] flex-col bg-white drop-shadow-2xl transition-all duration-300 ease-out dark:bg-gray-800\">\n                {dict && (\n                  <>\n                    <div className=\"flex w-full items-end justify-between py-4 pl-5\">\n                      <span className=\"text-lg text-gray-700 dark:text-gray-200\">{dict.name}</span>\n                      <IconX className=\"mr-2 cursor-pointer text-gray-400\" onClick={onCloseDialog} />\n                    </div>\n                    <div className=\"w-full flex-1 overflow-y-auto \">\n                      <table className=\"block min-w-full divide-y divide-gray-100 dark:divide-gray-800\">\n                        <thead className=\"sticky top-0 block h-10 w-full bg-gray-50 dark:bg-gray-700\">\n                          <tr className=\"flex\">\n                            <th\n                              scope=\"col\"\n                              className=\"w-15 px-2 py-3  text-center text-sm font-bold tracking-wider text-gray-600 dark:text-gray-200\"\n                            ></th>\n                            <th\n                              scope=\"col\"\n                              className=\"flex-1 px-2 py-3  text-center text-sm font-bold tracking-wider text-gray-600 dark:text-gray-200\"\n                            >\n                              Chapter\n                            </th>\n                            <th\n                              scope=\"col\"\n                              className=\"flex-1 px-2 py-3  text-center text-sm font-bold tracking-wider text-gray-600 dark:text-gray-200\"\n                            >\n                              练习次数\n                            </th>\n                            <th\n                              scope=\"col\"\n                              className=\"flex-1 px-2 py-3  text-center text-sm font-bold tracking-wider text-gray-600 dark:text-gray-200\"\n                            >\n                              平均错误单词数\n                            </th>\n                            <th\n                              scope=\"col\"\n                              className=\"flex-1 px-2 py-3  text-center text-sm font-bold tracking-wider text-gray-600 dark:text-gray-200\"\n                            >\n                              平均错误输入数\n                            </th>\n                          </tr>\n                        </thead>\n                        <tbody className=\"block h-full w-full divide-y divide-gray-100 overflow-y-scroll bg-white dark:divide-gray-800\">\n                          {range(0, chapterCount, 1).map((index) => (\n                            <ChapterRow\n                              key={`${dict.id}-${index}`}\n                              index={index}\n                              dictID={dict.id}\n                              checked={checkedChapter === index}\n                              onChange={onChangeChapter}\n                            />\n                          ))}\n                        </tbody>\n                      </table>\n                    </div>\n                    <button className=\"text-bold h-15 w-full bg-indigo-400 text-white\" onClick={onConfirm}>\n                      确定\n                    </button>\n                  </>\n                )}\n              </Dialog.Panel>\n            </Transition.Child>\n          </div>\n        </Dialog>\n      </Transition>\n    </>\n  )\n}\n","import InfoPanel from '@/components/InfoPanel'\nimport { useCallback, useState } from 'react'\nimport IconBook2 from '~icons/tabler/book-2'\n\nexport default function DictRequest() {\n  const [showPanel, setShowPanel] = useState(false)\n\n  const onOpenPanel = useCallback(() => {\n    setShowPanel(true)\n  }, [])\n\n  const onClosePanel = useCallback(() => {\n    setShowPanel(false)\n  }, [])\n\n  return (\n    <>\n      {showPanel && (\n        <InfoPanel\n          openState={showPanel}\n          title=\"申请词典\"\n          icon={IconBook2}\n          buttonClassName=\"bg-indigo-500 hover:bg-indigo-400\"\n          iconClassName=\"text-indigo-500 bg-indigo-100 dark:text-indigo-300 dark:bg-indigo-500\"\n          onClose={onClosePanel}\n        >\n          <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n            如果您有相关的编程基础，可以参考\n            <a\n              href=\"https://github.com/Kaiyiwing/qwerty-learner/blob/master/docs/toBuildDict.md\"\n              className=\"px-2 text-blue-500\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              导入词典\n            </a>\n            ，给项目贡献新的词典。\n            <br />\n            <br />\n            如果您没有相关的编程基础，可以将您的字典需求发送邮件到{' '}\n            <a href=\"mailto:me@kaiyi.cool\" className=\"px-2 text-blue-500\" aria-label=\"发送邮件到 me@kaiyi.cool\">\n              me@kaiyi.cool\n            </a>\n            ，或者在网页底部添加我们的用户社群进行反馈。\n          </p>\n          <br />\n        </InfoPanel>\n      )}\n      <button className=\"cursor-pointer pr-6 text-sm text-indigo-500\" onClick={onOpenPanel}>\n        没有找到想要的词典？\n      </button>\n    </>\n  )\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAARGVYSWZNTQAqAAAACAABh2kABAAAAAEAAAAaAAAAAAADoAEAAwAAAAEAAQAAoAIABAAAAAEAAAAmoAMABAAAAAEAAAAmAAAAAITyIFsAAAGbaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjM4PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjM4PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cl+r3MQAAAqaSURBVFjDvZhrbFzHdcd/Z2bu7vIlihKpB00pkmxJhl5+NUqdWtWjRpq4qR9tpNRAYSBu4RQJCgQOghToh66KwkU/uAZq1GmKIq4LNLbFpGjgNHEejijbQmsxahLXtOTYEkmRFClSFEUuyb27986cfri7FOWEtuQGveTBLGdn5vznf87851wKH/BRReg+aOjYLidb1sodtf6TnOSOUqcy0acc7A4iKP9fz9Gj+9w1b+DoPqeKXK8PuX6mikakGADmX2C3tH18J/kNa4xtyKGipJfKxH0D1dHe11v+gFNXNoPbv5/0Vw5Mjxy0AHKo21/+Dp9qXP9Xf26XbbnVtK2BqBHEZANDCpV50qnz1TDd94a/9Nzzc71nvtLxZUp6dJ+T/T3prwyYHjlo5VC3Bxjr5gurP/IPT9DxG2g5VQheNSAimjGqgogYYy0uQPw28dnvDjD+zMMNn+SoatGJFN8XnLlWUKVvs2PqxVteSDxPVH0bGqeJ+nnUVx0hceqTSH01IlSdprH11TkNcdUH1lULGx/Y4DZ86Uel7/FpkWKqP34k+j8xpkewcghf+gbbo61/+Z/5jq6Wvn9/WDu2/gntWz8m3gtiIsQ40ICqB/WoZgdRxIAGQnUytXrZpZdPkow8u7flPl6ur33dwFSR+lGPex96JX/jfXf56fH49LGnC5dHT3Dr/odwLRtRLGJzCIJqqAHzNaCKhgTSWdTPJo0NGs1Nnnm71PPKrZ1F5hf7uA5gB61It49/yN35Gx79QRyWe0ku2PM/P8GzT/ey/+7VbLt1B7mmFSgOFYsRQUMF9XPgq3gfQGzNkyJGk5ZGjaZHz3xu+ScHvvJeh2HpHOuZEADvdh3AzePnRzSdG8GGcTrWNPPDH0zzo2/3MH72Z6Sls1A+g589TTpzCj97Bl8eIp0bIMTDkE7h4ylCPCVUpgiSuxeAYz3h+pN/X0dGcXDbKU+i8Xn8/Dk0pNy2q4H7H1jBpVIzL/zbGV59qY/+0wNMT0yQVsoQAs5C8ML89BziS2gyQ3VuysTzc/gQNn/1d2mUImEp8X2PUKqIHJbL3zvSu2xZ2+0zpbInmbHDI7OcP1/hzo+uIPUwNpYwMhIzPVVF00Aubyg0WJavcLSviBgZLnPjjU3kGiI0hGCNmjhm5uyZ6Z13/dnUOS1ipEi4VsYk06WiTSuVQhpPIr7EK8cvUS57fv3ONsRacoWIm7Y0s2dvOx+7ZzW/efcqdt3RxrqNTSSpMDxSoZLC8eOTnHmnhDVZEHxQKqWyfBAd0xrFSZL4aUNC/8Asq1dbbJTjJ69XOfHjEqfeihEXYSJLoTHH8pUFutY3sW59MzaXw0aOKJej0NTIT382w8x0Qi4yVKvp5b7/jqcADl+3XNR0ZvjI+udWLjOffq13Kr39w+1uNk6JCvMsb+3A5Sxo/T7XTB5UUAXCHN5bLl6coblg6TsVmJ4s+X172uw7A/HJnZ+98GvZLET4RclYOvk7MtDlOf9fIyMxK1Y20tw4w7LlbYzM7ufZ7zby05+3oRjAA4KIwRgwxnN2fDPPf7+JgZnbMflOtm+9iJDX6akKcdm/vLB5frmOLQms51jWuigdnZtXmprKUk7XMsCnePGNAq8OrWL3F6cYi+8EqdSYMiBlRubv5LnXVvLyYAefe3KE0dzvoWYbba2XzaVpZXV77kWAnjeXjtjSjO3NmpUro2p7RwOSXhbbfDtdm3fxVPFf+Menv8OjN/8Pbs3Hwe1A9BIQg9lEfv19PPnYN/mnZ17knuafsGr9VqK23ZAmJkiBdV12CmDftqWLyCWBTUxkk8pz1TNKnLqGTiOzz2tr+hb/cexxvn74t/jTxx6no3ECrb4Npg2RApr201EY5aVjf83XD9/N5x/7G1r9WczM86G1fTWFfGVyPi4PA3CQ6xfYjo6jApBbec85pXDRiSNJOjWc+xI72np48NCHuKG5F4Y+gxiDRu1otAIxDejgH7Oz41UePLieGxqOE849SqXSqi3NBfL5huHG354YU1XT3X3ELHUAr6kee/urPJGL+MLyDtKmZY0O5rH1wiXagI8HsCsPgUTo5L8i+Y2Q9EPIjl3QJqYuzvnpSWxQvrj5Ef72A5U9qmoHBwe3JHNzhfZN26be+Nbj96QXXvv77VtcaGw2RpzFOgsC1ipjQxWqKVgj5PNK+5o8IQiookHxSapTl7z0vp6w9pZPPLjxrj/snR4/0yKSS2666aa3RCR9T2DFYtEVi8X0yaeeure5qeVbztmqIMYajIIx1mBEECM1eRAkK5GoJlkeOwdGMoUOWtO2EAghZNUGhKASQgjeGJOvxpXPPPLIH/1z3fd75tjY6Pim0bExBgYG7eC5ITc4dN4Mj4wxNDzG0PAFhoYvMDyS2dDIBUZGLzA5OcHk5Dijo+O1MbXxQ2MMDo0yODTK0PAo/YPDpn9gwPX399tzQ8MMjgzdds3JLyJlay3OOY0ipy6y6pzBWUMUGSKXmbNZa43BGMGIwdb6nLNEzuKcIVr4bMlFkUbOEeVyGjmHFSldOzAjpRAUBQkhSPBBQshCFrwSQmbZFUStzUIXQsjaehh/YUwQVdAQJKiiyPg1AwtBSyEEVFV0QQI1uw9Rar8LzmqleHbr1frRrK8+q77Cwr1aHwcz7wts27ZtCmBUZkLwtagu+F5YWGteFwMTEZIkWTQug1RDkAGvz8lOnWgIiOj0+wLr7l74eNlnR0h0UeXAu0JTf+I4ZnpmhjWrV5Gm6aIQ6ru3s7BDVYz3HhW5tJiUXwps+/Y3FaCiEqNUhEWbvkJ9FlDNCpa4UqGrq4vff+B+9u7Zw7quLipxXKOaRRu5QiLZm5H4EDQEM5eR0v3+Obah89S4omUQdNHKCyxoXQSF+fl5btm5g61bNtPZuZZcLkfqPXpVjVYP4aLwioCGcltzeSIjZfvSjPX1bROAZ47c+1CSNKxQUq2HcyHPVNHaO2PQQOQizvb3k6aZNi5f3kqa+lq43pX2C32Kqif1UeMrJ7puBujpuRrLgvIfPHjEdncf8rt2f+2Al/Uv/c6BN2ltnVHVnBgjWGMypZdaa+qqr6RpyqpVq3DOcvHiJEmSYq3JJCOETF40U/9Q+1sk9eVyi33h+2vPnzt9+pZSqXgRigay/yTVUUp39yGfvSgUHjO2naBRqjXNqcvBld1ecaIK1jrOj40xODRMkqaIEXwIaO37bAdXm2qwaSqJp7Nz1YfWfBlg374rrJkaWwZg54f/bq8xTR/xQUKSRJZ6ubQQvkVCGQI+BIIGFCWfy1HI5xGRGuBaGBfdxlr/UUA9PuRs6h1Iw0O7d39+ZU9PMQWVBWATEx3ZW3dauNe6ZYRg0iQxoBo0aO0ha4LWfdYOqmoIQb336r3XEIIuVmMNqhrCwkI1XAoaksSJ4hLrVqy6NL/pExlrh+0CsJ6e/SmA1+iAsY1UU80pkThnjHVOrHPinK2ZE+ecRAsWSRQtMhdlY6wTa+2COZvNW7SWEclLUBdZ10rQhvszLH8RakSrgOjWrQ+3aGHP8Xxh/brZSmvltpsHZMumExJCDmMyZa8rvIhZdHrk6nAtuiaUcLVc1MwHsGaeofMf1d6+G4OTicZKfO4NV/nsgXfeoQIq/wuSg2/rAVJ4OAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import { GalleryContext } from '.'\nimport codeFlag from '@/assets/flags/code.png'\nimport deFlag from '@/assets/flags/de.png'\nimport enFlag from '@/assets/flags/en.png'\nimport jpFlag from '@/assets/flags/ja.png'\nimport type { LanguageCategoryType } from '@/typings'\nimport { RadioGroup } from '@headlessui/react'\nimport { useCallback, useContext } from 'react'\n\nexport type LanguageTabOption = {\n  id: LanguageCategoryType\n  name: string\n  flag: string\n}\n\nconst options: LanguageTabOption[] = [\n  { id: 'en', name: '英语', flag: enFlag },\n  { id: 'ja', name: '日语', flag: jpFlag },\n  { id: 'de', name: '德语', flag: deFlag },\n  { id: 'code', name: 'Code', flag: codeFlag },\n]\n\nexport function LanguageTabSwitcher() {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const { state, setState } = useContext(GalleryContext)!\n\n  const onChangeTab = useCallback(\n    (tab: string) => {\n      setState((draft) => {\n        draft.currentLanguageTab = tab as LanguageCategoryType\n      })\n    },\n    [setState],\n  )\n\n  return (\n    <RadioGroup value={state.currentLanguageTab} onChange={onChangeTab}>\n      <div className=\"flex items-center space-x-4\">\n        {options.map((option) => (\n          <RadioGroup.Option key={option.id} value={option.id} className=\"cursor-pointer\">\n            {({ checked }) => (\n              <div className={`flex items-center border-b-2 px-2 pb-1 ${checked ? 'border-indigo-500' : 'border-transparent'}`}>\n                <img src={option.flag} className=\"mr-1.5 h-7 w-7\" />\n                <p className={`text-lg font-medium text-gray-700 dark:text-gray-200`}>{option.name}</p>\n              </div>\n            )}\n          </RadioGroup.Option>\n        ))}\n      </div>\n    </RadioGroup>\n  )\n}\n","import type { Dictionary } from '@/typings'\n\nexport default function groupBy<T>(elements: T[], iteratee: (value: T) => string) {\n  return elements.reduce<Record<string, T[]>>((result, value) => {\n    const key = iteratee(value)\n    if (Object.prototype.hasOwnProperty.call(result, key)) {\n      result[key].push(value)\n    } else {\n      result[key] = [value]\n    }\n    return result\n  }, {})\n}\n\nexport function groupByDictTags(dicts: Dictionary[]) {\n  return dicts.reduce<Record<string, Dictionary[]>>((result, dict) => {\n    dict.tags.forEach((tag) => {\n      if (Object.prototype.hasOwnProperty.call(result, tag)) {\n        result[tag].push(dict)\n      } else {\n        result[tag] = [dict]\n      }\n    })\n    return result\n  }, {})\n}\n","import DictionaryGroup from './CategoryDicts'\nimport ChapterList from './ChapterList'\nimport DictRequest from './DictRequest'\nimport { LanguageTabSwitcher } from './LanguageTabSwitcher'\nimport Layout from '@/components/Layout'\nimport { dictionaries } from '@/resources/dictionary'\nimport { currentDictInfoAtom } from '@/store'\nimport type { Dictionary, LanguageCategoryType } from '@/typings'\nimport groupBy, { groupByDictTags } from '@/utils/groupBy'\nimport * as ScrollArea from '@radix-ui/react-scroll-area'\nimport { useAtomValue } from 'jotai'\nimport { createContext, useCallback, useEffect, useMemo } from 'react'\nimport { useHotkeys } from 'react-hotkeys-hook'\nimport { useNavigate } from 'react-router-dom'\nimport type { Updater } from 'use-immer'\nimport { useImmer } from 'use-immer'\nimport IconX from '~icons/tabler/x'\n\nexport type GalleryState = {\n  currentLanguageTab: LanguageCategoryType\n  chapterListDict: Dictionary | null\n}\n\nconst initialGalleryState: GalleryState = {\n  currentLanguageTab: 'en',\n  chapterListDict: null,\n}\n\nexport const GalleryContext = createContext<{\n  state: GalleryState\n  setState: Updater<GalleryState>\n} | null>(null)\n\nexport default function GalleryPage() {\n  const [galleryState, setGalleryState] = useImmer<GalleryState>(initialGalleryState)\n  const navigate = useNavigate()\n  const currentDictInfo = useAtomValue(currentDictInfoAtom)\n\n  const { groupedByCategoryAndTag } = useMemo(() => {\n    const currentLanguageCategoryDicts = dictionaries.filter((dict) => dict.languageCategory === galleryState.currentLanguageTab)\n    const groupedByCategory = Object.entries(groupBy(currentLanguageCategoryDicts, (dict) => dict.category))\n    const groupedByCategoryAndTag = groupedByCategory.map(\n      ([category, dicts]) => [category, groupByDictTags(dicts)] as [string, Record<string, Dictionary[]>],\n    )\n\n    return {\n      groupedByCategoryAndTag,\n    }\n  }, [galleryState.currentLanguageTab])\n\n  const onBack = useCallback(() => {\n    navigate('/')\n  }, [navigate])\n\n  useHotkeys('enter,esc', onBack, { preventDefault: true })\n\n  useEffect(() => {\n    if (currentDictInfo) {\n      setGalleryState((state) => {\n        state.currentLanguageTab = currentDictInfo.languageCategory\n      })\n    }\n  }, [currentDictInfo, setGalleryState])\n\n  return (\n    <Layout>\n      <GalleryContext.Provider value={{ state: galleryState, setState: setGalleryState }}>\n        <ChapterList />\n        <div className=\"relative mb-auto mt-auto flex w-full flex-1 flex-col overflow-y-auto pl-20\">\n          <IconX className=\"absolute right-20 top-10 mr-2 h-7 w-7 cursor-pointer text-gray-400\" onClick={onBack} />\n          <div className=\"mt-20 flex w-full flex-1 flex-col items-center justify-center overflow-y-auto\">\n            <div className=\"flex h-full flex-col overflow-y-auto\">\n              <div className=\"flex h-20 w-full items-center justify-between pb-6\">\n                <LanguageTabSwitcher />\n                <DictRequest />\n              </div>\n              <ScrollArea.Root className=\"flex-1 overflow-y-auto\">\n                <ScrollArea.Viewport className=\"h-full w-full pb-[20rem]\">\n                  <div className=\"mr-4 flex flex-1 flex-col items-start justify-start gap-14 overflow-y-auto\">\n                    {groupedByCategoryAndTag.map(([category, groupeByTag]) => (\n                      <DictionaryGroup key={category} groupedDictsByTag={groupeByTag} />\n                    ))}\n                  </div>\n                </ScrollArea.Viewport>\n                <ScrollArea.Scrollbar className=\"flex touch-none select-none bg-transparent \" orientation=\"vertical\"></ScrollArea.Scrollbar>\n              </ScrollArea.Root>\n              {/* todo: 增加导航 */}\n              {/* <div className=\"mt-20 h-40 w-40 text-center \">\n                <CategoryNavigation />\n              </div> */}\n            </div>\n          </div>\n        </div>\n      </GalleryContext.Provider>\n    </Layout>\n  )\n}\n"],"names":["F","e","r","c","E","l","m","T","n","N","f","p","d","i","u","Ce","t","ke","o","Te","B","J","oe","V","$","ne","Le","ce","he","Fe","Q","v","S","M","G","C","H","y","P","h","se","a","R","z","k","U","ee","L","j","W","te","s","Ae","b","A","be","x","Pe","D","Ee","Y","I","Z","g","K","_","ie","ae","pe","w","le","Ge","ue","O","ve","ge","Oe","de","q","xe","_e","we","me","De","fe","re","Ie","X","Se","yt","ye","Re","DictTagSwitcher","tagList","currentTag","onChangeCurrentTag","onChangeTag","useCallback","tag","jsx","RadioGroup","map","option","checked","useDictStats","dictID","isStartLoad","dictStats","setDictStats","useState","useEffect","stats","getDictStats","dict","exercisedChapterCount","db","chapterRecords","where","toArray","chapter","filter","item","value","index","self","indexOf","length","bookCover","useIntersectionObserver","elementRef","threshold","root","rootMargin","freezeOnceVisible","entry","setEntry","frozen","isIntersecting","updateEntry","node","current","window","IntersectionObserver","observerParams","observer","observe","disconnect","JSON","stringify","DictionaryComponent","dictionary","onClick","currentDictID","useAtomValue","currentDictIdAtom","divRef","useRef","isVisible","id","chapterCount","useMemo","calcChapterCount","isSelected","progress","Math","ceil","jsxs","name","Tooltip","description","Progress.Root","Progress.Indicator","width","DictionaryGroup","groupedDictsByTag","setState","useContext","GalleryContext","Object","keys","setCurrentTag","currentDictInfo","currentDictInfoAtom","onClickDict","state","chapterListDict","commonTags","findCommonValues","tags","useChapterStats","chapterStats","setChapterStats","getChapterStats","records","exerciseCount","totalWrongWordCount","reduce","total","wordNumber","correctWordIndexes","avgWrongWordCount","toFixedNumber","totalWrongInputCount","wrongCount","avgWrongInputCount","ChapterRow","onChange","rowRef","chapterStatus","button","container","parentElement","scroll","top","offsetTop","behavior","noop","INFINITY","MAX_INTEGER","toFinite","baseRange","start","end","step","max","result","Array","range","undefined","ChapterList","currentChapter","setCurrentChapter","useAtom","currentChapterAtom","currentDictId","setCurrentDictId","checkedChapter","setCheckedChapter","navigate","useNavigate","showChapterList","onChangeChapter","onConfirm","onCloseDialog","Transition","Fragment","Dialog","IconX","DictRequest","showPanel","setShowPanel","onOpenPanel","onClosePanel","InfoPanel","IconBook2","codeFlag","deFlag","enFlag","jpFlag","options","flag","LanguageTabSwitcher","onChangeTab","tab","draft","currentLanguageTab","groupBy","elements","iteratee","key","prototype","hasOwnProperty","call","push","groupByDictTags","dicts","forEach","initialGalleryState","createContext","GalleryPage","galleryState","setGalleryState","useImmer","groupedByCategoryAndTag","currentLanguageCategoryDicts","dictionaries","languageCategory","entries","category","onBack","useHotkeys","preventDefault","Layout","ScrollArea.Root","ScrollArea.Viewport","groupeByTag","ScrollArea.Scrollbar"],"mappings":"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","x_google_ignoreList":[0,1]}